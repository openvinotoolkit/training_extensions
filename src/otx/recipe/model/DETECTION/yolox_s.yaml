class_path: otx.core.model.module.detection.OTXDetectionLitModule
init_args:
  torch_compile: false
  otx_model:
    class_path: otx.core.model.entity.detection.MMDetCompatibleModel
    init_args:
      config:
        load_from: https://download.openmmlab.com/mmdetection/v2.0/yolox/yolox_s_8x8_300e_coco/yolox_s_8x8_300e_coco_20211121_095711-4592a793.pth
        train_cfg:
          assigner:
            type: SimOTAAssigner
            center_radius: 2.5
        test_cfg:
          score_thr: 0.01
          nms:
            type: nms
            iou_threshold: 0.65
          max_per_img: 100
        type: YOLOX
        data_preprocessor:
          type: DetDataPreprocessor
          mean:
            - 0.0
            - 0.0
            - 0.0
          std:
            - 1.0
            - 1.0
            - 1.0
          bgr_to_rgb: true
          pad_size_divisor: 32
        backbone:
          type: CSPDarknet
          deepen_factor: 0.33
          widen_factor: 0.5
          out_indices:
            - 2
            - 3
            - 4
        neck:
          type: YOLOXPAFPN
          in_channels:
            - 128
            - 256
            - 512
          out_channels: 128
          num_csp_blocks: 4
        bbox_head:
          type: YOLOXHead
          num_classes: 80
          in_channels: 128
          feat_channels: 128
  optimizer:
    class_path: torch.optim.SGD
    init_args:
      lr: 0.0005
      weight_decay: 0.001
      momentum: 0.9
  scheduler:
    class_path: lightning.pytorch.cli.ReduceLROnPlateau
    init_args:
      mode: min
      factor: 0.5
      patience: 1
      monitor: train/loss
