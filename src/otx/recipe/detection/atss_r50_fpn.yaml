# @package _global_
defaults:
  - override /base: detection
  - override /callbacks: detection
  - override /data: mmdet
  - override /model: mmdet
recipe: detection/atss_r50_fpn
data:
  train_subset:
    batch_size: 2
    transforms:
      - backend_args: null
        type: LoadImageFromFile
      - type: LoadAnnotations
        with_bbox: true
      - keep_ratio: true
        scale:
          - 1333
          - 800
        type: Resize
      - prob: 0.5
        type: RandomFlip
      - type: PackDetInputs
  val_subset:
    batch_size: 1
    transforms:
      - backend_args: null
        type: LoadImageFromFile
      - keep_ratio: true
        scale:
          - 1333
          - 800
        type: Resize
      - type: LoadAnnotations
        with_bbox: true
      - meta_keys:
          - img_id
          - img_path
          - ori_shape
          - img_shape
          - scale_factor
        type: PackDetInputs
  test_subset:
    batch_size: 1
    transforms:
      - backend_args: null
        type: LoadImageFromFile
      - keep_ratio: true
        scale:
          - 1333
          - 800
        type: Resize
      - type: LoadAnnotations
        with_bbox: true
      - meta_keys:
          - img_id
          - img_path
          - ori_shape
          - img_shape
          - scale_factor
        type: PackDetInputs
model:
  otx_model:
    _target_: otx.algo.detection.atss.ATSS
    variant: r50_fpn
