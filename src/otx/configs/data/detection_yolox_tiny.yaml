task: DETECTION
config:
  mem_cache_size: 1GB
  mem_cache_img_max_size: null
  data_format: coco_instances
  train_subset:
    subset_name: train
    batch_size: 8
    num_workers: 2
    transform_lib_type: MMDET
    transforms:
      - type: LoadImageFromFile
      - type: LoadAnnotations
        with_bbox: true
      - type: CachedMosaic
        random_pop: false
        pad_val: 114.0
        max_cached_images: 20
        img_scale:
          - 640
          - 640
      - type: RandomAffine
        scaling_ratio_range:
          - 0.5
          - 1.5
        border:
          - -320
          - -320
      - type: PhotoMetricDistortion
        brightness_delta: 32
        contrast_range:
          - 0.5
          - 1.5
        saturation_range:
          - 0.5
          - 1.5
        hue_delta: 18
      - type: Resize
        scale:
          - 640
          - 640
        keep_ratio: false
      - type: RandomFlip
        prob: 0.5
      - type: Pad
        pad_to_square: true
        pad_val: 114
      - type: PackDetInputs
        meta_keys:
          - ori_filename
          - flip_direction
          - scale_factor
          - gt_ann_ids
          - flip
          - ignored_labels
          - ori_shape
          - filename
          - img_shape
          - pad_shape
  val_subset:
    subset_name: val
    num_workers: 2
    batch_size: 1
    transform_lib_type: MMDET
    transforms:
      - type: LoadImageFromFile
      - type: Resize
        scale:
          - 416
          - 416
        keep_ratio: false
      - type: LoadAnnotations
        with_bbox: true
      - type: PackDetInputs
        meta_keys:
          - ori_filename
          - scale_factor
          - ori_shape
          - filename
          - img_shape
          - pad_shape
  test_subset:
    subset_name: test
    num_workers: 2
    batch_size: 1
    transform_lib_type: MMDET
    transforms:
      - type: LoadImageFromFile
      - type: Resize
        scale:
          - 416
          - 416
        keep_ratio: false
      - type: LoadAnnotations
        with_bbox: true
      - type: PackDetInputs
        meta_keys:
          - ori_filename
          - scale_factor
          - ori_shape
          - filename
          - img_shape
          - pad_shape
