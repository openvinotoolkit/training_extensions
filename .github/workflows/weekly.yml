name: Weekly Test

on:
  workflow_dispatch: # run on request (no need for PR)
  schedule:
    # every 12AM on Sunday
    - cron: "0 0 * * 0"

# Declare default permissions as read only.
permissions: read-all

jobs:
  Performance-Speed-Tests:
    name: Performance-Speed-py310
    uses: ./.github/workflows/perf-speed.yml
    with:
      model-type: default
      data-size: medium
      num-repeat: 1
      num-epoch: 3
      eval-upto: optimize
      artifact-prefix: weekly-perf-speed-benchmark
  Performance-Accuracy-Tests:
    name: Performance-Accuracy-py310
    uses: ./.github/workflows/perf-accuracy.yml
    with:
      model-type: default
      data-size: all
      num-repeat: 0
      num-epoch: 0
      eval-upto: optimize
      artifact-prefix: weekly-perf-accuracy-benchmark
